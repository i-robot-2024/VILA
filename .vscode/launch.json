{
    // 使用 IntelliSense 了解相关属性。 
    // 悬停以查看现有属性的描述。
    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "img_3b",
            "type": "debugpy",
            "request": "launch",
            "program": "llava/eval/run_vila.py",
            "console": "integratedTerminal",
            "args": [  "--model-path", "Efficient-Large-Model/VILA1.5-3b","--conv-mode", "vicuna_v1",  "--num-video-frames" ,"8",
            "--query", "<image>\\n Please describe the traffic condition.", "--image-file",  "~/Downloads/IMG_000000_0001.png"]
        },
        {
            "name": "video_3b",
            "type": "debugpy",
            "request": "launch",
            "program": "llava/eval/run_vila.py",
            "console": "integratedTerminal",
            "args": [  "--model-path", "Efficient-Large-Model/VILA1.5-3b","--conv-mode", "vicuna_v1",  "--num-video-frames" ,"8",
            "--query", "<video>\\n Please describe this video.", "--video-file",  "~/Downloads/videos_real/videos/NUSCENES_001137.mp4"]
        },
        {
            "name": "sft",
            "type": "debugpy",
            "request": "launch",
            "program": "/mnt/share_disk/jintao/miniconda3/envs/vila/bin/torchrun",
            "console": "integratedTerminal",
            "args": [  "--nnodes","1", "--nproc_per_node","1", "--master_port","25001",
            "--master_addr", "127.0.0.1", "--node_rank","0",
            "llava/train/train_mem.py",
            "--deepspeed", "./scripts/zero3.json",
            "--model_name_or_path" ,"~/.cache/huggingface/hub/models--Efficient-Large-Model--VILA1.5-3b/snapshots/699b413ed13620957e955bd7fb938852afa258fc/",
            "--version", "v1",
            "--data_mixture", "sharegpt_video",
            "--vision_tower", "google/siglip-so400m-patch14-384",
            "--mm_vision_select_feature", "cls_patch" ,
            "--mm_projector", "mlp_downsample",
            "--tune_vision_tower", "True",
            "--tune_mm_projector", "True",
            "--tune_language_model", "True" ,
            "--mm_vision_select_layer", "-2" ,
            "--mm_use_im_start_end", "False",
            "--mm_use_im_patch_token" ,"False" ,
            "--image_aspect_ratio", "resize",
            "--bf16", "True" ,
            "--output_dir", "./checkpoints/SFT", 
            "--num_train_epochs", "1" ,
            "--per_device_train_batch_size", "16",
            "--per_device_eval_batch_size", "4",
            "--gradient_accumulation_steps" ,"2" ,
            "--evaluation_strategy" ,"no" ,
            "--save_strategy", "steps" ,
            "--save_steps" ,"100" ,
            "--save_total_limit", "1" ,
            "--learning_rate", "1e-4" ,
            "--weight_decay", "0." ,
            "--warmup_ratio" ,"0.03" ,
            "--lr_scheduler_type", "cosine" ,
            "--logging_steps" ,"1" ,
            "--tf32" ,"True" ,
            "--model_max_length" ,"4096" ,
            "--gradient_checkpointing" ,"True" ,
            "--dataloader_num_workers" ,"16" ,
            "--lazy_preprocess" ,"True" ,
            "--vflan_no_system_prompt" ,"True" ,
            "--report_to", "wandb"]
        }
    ]

}